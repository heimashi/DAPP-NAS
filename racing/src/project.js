require=function a(c,o,s){function h(t,e){if(!o[t]){if(!c[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(p)return p(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var n=o[t]={exports:{}};c[t][0].call(n.exports,function(e){return h(c[t][1][e]||e)},n,n.exports,a,c,o,s)}return o[t].exports}for(var p="function"==typeof require&&require,e=0;e<s.length;e++)h(s[e]);return h}({GameManager:[function(e,t,i){"use strict";cc._RF.push(t,"32d9bEpSBxKWr9rIU7QpLpI","GameManager"),cc.Class({extends:cc.Component,properties:{indexBg:cc.Node,gameBg:cc.Node,road:cc.Node,road2:cc.Node,banner:cc.Node,levelBanner:cc.Node,bonus:cc.Node,bonusTip:cc.Node,car:cc.Node,arrow:cc.Node,textTip:cc.Node,roadBg1:cc.SpriteFrame,roadBg2:cc.SpriteFrame,bgLevelImg:cc.SpriteFrame,level1Img:cc.SpriteFrame,level2Img:cc.SpriteFrame,level3Img:cc.SpriteFrame,startImg:cc.SpriteFrame,bonus1Img:cc.SpriteFrame,bonus2Img:cc.SpriteFrame,bonus3Img:cc.SpriteFrame,bonus0Img:cc.SpriteFrame,sucNode1:cc.Node,sucNode2:cc.Node,sucNode3:cc.Node,startSpeed:0,maxSpeed:0,maxRoadCount:0,gameState:0},onLoad:function(){cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),this.bonusAnim=this.bonus.getComponent(cc.Animation),this.roadHeight=this.road.height,this.initY=this.road.y,this.minY=this.initY-this.roadHeight},gameStart:function(){var r=this;r.car.on(cc.Node.EventType.TOUCH_START,function(e){r.arrow.active=!1,r.textTip.active=!1},r.node),r.car.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(0===r.gameState){var t=e.getTouches()[0].getLocation();if(void 0!==r.lastY){var i=t.y-r.lastY;r.car.y+=i}-60<r.car.y?r.car.y=-60:r.car.y<-300?r.car.y=-300:r.lastY=t.y}},r.node),r.car.on(cc.Node.EventType.TOUCH_END,function(e){r.lastY=void 0,0===r.gameState&&(r.car.y<-210?r.runCar():(r.arrow.active=!0,r.textTip.active=!0,r.car.y=-60))},r.node);var e=cc.callFunc(function(){r.arrow.active=!0,r.textTip.active=!0,r.car.getComponent(cc.Animation).play()});this.car.runAction(cc.sequence(cc.moveTo(.3,cc.p(0,-220)),cc.moveTo(.3,cc.p(0,-60)),e))},runBonusEnterAnim:function(){3===this.gameState&&(console.log("END!!!",this.recevicedLevel,this.recevicedPoint),1==this.recevicedLevel||2==this.recevicedLevel||this.recevicedLevel,this.playBonusAnim())},playBonusAnim:function(){var e=this,t=cc.callFunc(function(){console.log("bonus"),e.sucNode1.active=!0,e.sucNode2.active=!0,e.sucNode3.active=!0,e.sucNode1.getComponent(cc.ParticleSystem).resetSystem(),e.sucNode2.getComponent(cc.ParticleSystem).resetSystem(),e.sucNode3.getComponent(cc.ParticleSystem).resetSystem()}),i=cc.callFunc(function(){console.log("bonus!!"),e.bonus.active=!0,e.bonusAnim.play()});this.car.runAction(cc.sequence(t,cc.delayTime(.2),i))},runCar:function(){var i=this;if(0===this.gameState){var e=cc.moveTo(3,cc.p(0,180));this.car.runAction(e),this.recevicedResult=!1,this.curSpeed=this.startSpeed,this.isChangeBg=!1,this.roadCount=0,this.gameState=1}this.isNasPlay?racingTryToPlayGame():setTimeout(function(){var e=Math.floor(1e3*Math.random()+1),t=-1;e%10==0?t=3:e%100==0?t=2:e%1e3==0&&(t=1),i.receviePoint(e,t)},5e3)},receviePoint:function(e,t){console.log("------",e,t),this.recevicedPoint=e,this.recevicedLevel=t,this.recevicedResult=!0},tryPlayClick:function(){this.gameBg.active=!0,this.car.active=!0,this.indexBg.active=!1,this.isNasPlay=!1,this.gameStart()},nasPlayClick:function(){this.gameBg.active=!0,this.car.active=!0,this.indexBg.active=!1,this.isNasPlay=!0,this.gameStart()},restartGame:function(){this.gameState=0,this.car.y=-700,this.bonus.active=!1,this.isNasPlay=!0,this.levelBanner.active=!1,this.banner.getComponent(cc.Sprite).spriteFrame=this.startImg,this.gameStart()},restartTryGame:function(){this.gameState=0,this.car.y=-700,this.bonus.active=!1,this.isNasPlay=!1,this.levelBanner.active=!1,this.banner.getComponent(cc.Sprite).spriteFrame=this.startImg,this.gameStart()},update:function(e){1===this.gameState?(this.road.y<=this.minY&&(this.banner.active=!1,this.road.y=this.road2.y+this.roadHeight),this.road2.y<=this.minY&&(this.roadCount++,this.road2.y=this.road.y+this.roadHeight),this.curSpeed<this.maxSpeed&&(this.curSpeed+=300),this.curSpeed>3*this.maxSpeed/5&&!this.isChangeBg&&(this.isChangeBg=!0,this.road.getComponent(cc.Sprite).spriteFrame=this.roadBg2,this.road2.getComponent(cc.Sprite).spriteFrame=this.roadBg2),this.road.y-=this.curSpeed*e,this.road2.y-=this.curSpeed*e,this.roadCount>this.maxRoadCount&&this.recevicedResult&&(this.roadCount=11,this.road.y=84.7,this.road2.y=2572.7,this.gameState=2,this.isChangeBg=!1)):2===this.gameState&&(this.road.y<=this.minY&&(this.road.y=this.road2.y+this.roadHeight),this.road2.y<=this.minY&&(this.roadCount--,this.road2.y=this.road.y+this.roadHeight),this.curSpeed<1*this.maxSpeed/5&&!this.isChangeBg?(this.isChangeBg=!0,this.road.getComponent(cc.Sprite).spriteFrame=this.roadBg1,this.road2.getComponent(cc.Sprite).spriteFrame=this.roadBg1,this.curSpeed-=100):this.curSpeed<=2e3?(this.curSpeed<1200?(this.curSpeed-=20,this.curSpeed=Math.max(900,this.curSpeed)):this.curSpeed-=80,this.road.y<665&&(this.curSpeed=0,this.gameState=3,this.runBonusEnterAnim())):this.curSpeed-=200,this.curSpeed<1e3&&!this.banner.active&&(this.banner.getComponent(cc.Sprite).spriteFrame=this.bgLevelImg,1==this.recevicedLevel?(this.levelBanner.getComponent(cc.Sprite).spriteFrame=this.level1Img,this.bonusTip.getComponent(cc.Sprite).spriteFrame=this.bonus1Img,this.levelBanner.active=!0):2==this.recevicedLevel?(this.levelBanner.getComponent(cc.Sprite).spriteFrame=this.level2Img,this.bonusTip.getComponent(cc.Sprite).spriteFrame=this.bonus2Img,this.levelBanner.active=!0):3==this.recevicedLevel?(this.levelBanner.getComponent(cc.Sprite).spriteFrame=this.level3Img,this.bonusTip.getComponent(cc.Sprite).spriteFrame=this.bonus3Img,this.levelBanner.active=!0):(this.bonusTip.getComponent(cc.Sprite).spriteFrame=this.bonus0Img,this.levelBanner.active=!1),this.banner.active=!0),this.curSpeed<this.maxSpeed&&-220<this.car.y&&(this.car.y-=150*e),this.road.y-=this.curSpeed*e,this.road2.y-=this.curSpeed*e)}}),cc._RF.pop()},{}],LanguageData:[function(e,t,i){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var r=e("polyglot.min"),n=null;function a(e){return window.i18n.languages[e]}function c(e){e&&(n?n.replace(e):n=new r({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=a(e)||{};window.i18n.curLang=e,c(t),this.inst=n}},t:function(e,t){if(n)return n.t(e,t)},inst:n,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var r=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,r)}for(var n=0;n<t.length;++n){t[n].updateLabel()}for(var a=[],c=0;c<e.length;++c){var o=e[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,o)}for(var s=0;s<a.length;++s){a[s].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,i){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var r=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){r.inst||r.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?r.t(this.dataID)&&(this.label.string=r.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,i){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var r=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:r}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t,i){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var r=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=r,cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var r,n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=void 0,n=function(t){function e(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||i}function n(e,t,i){var r,n,a,c,o,s,h;return null!=i&&e?(a=(n=e.split(p))[(c=t,o=i,u[(s=c,h=function(e){var t,i,r,n={};for(t in e)if(e.hasOwnProperty(t))for(r in i=e[t])n[i[r]]=t;return n}(d),h[s]||h.en)](o))]||n[0],r=a.replace(/^\s+|\s+$/g,"")):r=e,r}function i(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}e.VERSION="0.4.3",e.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},e.prototype.extend=function(e,t){var i;for(var r in e)e.hasOwnProperty(r)&&(i=e[r],t&&(r=t+"."+r),"object"==(void 0===i?"undefined":a(i))?this.extend(i,r):this.phrases[r]=i)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(e){this.clear(),this.extend(e)},e.prototype.t=function(e,t){var i,r;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof i&&(t=function(e){var t={};for(var i in e)t[i]=e[i];return t}(t),r=function(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}(r=n(i,this.currentLocale,t.smart_count),t)),r},e.prototype.has=function(e){return e in this.phrases};var p="||||",u={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return 1<e?1:0},russian:function(e){return e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},czech:function(e){return 1===e?0:2<=e&&e<=4?1:2},polish:function(e){return 1===e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e},"function"==typeof define&&define.amd?define([],function(){return n(r)}):"object"==(void 0===i?"undefined":a(i))?t.exports=n(r):r.Polyglot=n(r),cc._RF.pop()},{}]},{},["LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","GameManager"]);